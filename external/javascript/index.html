<html>
<script type="text/javascript" src="node_modules/protobufjs/dist/protobuf.js" ></script>
<script type="text/javascript" src="dist/bundle.js" ></script>

<script>
    var rm = CothorityProtobuf.createRandomMessage(10);
    var wsrh = new WebSocket("wss://pulsar.dedis.ch:9000/RandHound/RandRequest");
    wsrh.binaryType = 'arraybuffer';
    <!--var wsrh = new WebSocket("ws://localhost:7003/RandHound/RandRequest");-->
    wsrh.onopen = function(event){
        console.log("Sending");
        wsrh.send(rm);
    }
    wsrh.onmessage = function(event){
        console.log(event);
        reply = CothorityProtobuf.decodeRandomResponse(event.data);
        console.log("Received: " + reply);
        console.log(reply);
    }
</script>
</html>